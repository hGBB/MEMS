\documentclass{scrreprt}

\usepackage{libertine}
\usepackage{graphicx}
\usepackage[table,xcdraw]{xcolor} %color in tables
\usepackage{hyperref}
\usepackage{array, tabularx, caption, boldline}
\usepackage{cellspace}
\usepackage{pdfpages} 
\usepackage{float}
\setlength\cellspacetoplimit{4pt}
\setlength\cellspacebottomlimit{4pt}
\usepackage{tikz}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
		\node[shape=circle,draw,inner sep=2pt] (char) {#1};}}

\RedeclareSectionCommand[
  beforeskip=-.5\baselineskip,
  afterskip=.25\baselineskip]{subsubsection}
\RedeclareSectionCommand[
  beforeskip=-.5\baselineskip,
  afterskip=-0.5em]{paragraph}
\RedeclareSectionCommand[
  beforeskip=-.2\baselineskip,
  afterskip=-0.5em]{subparagraph}

\subject{EP Secure Cloud Energy Monitoring Platform WS 2018/19}
\title{Tests}
\author{Andreas MÃ¼ller \\ Benedikt Holler}

\begin{document}
\maketitle
\tableofcontents

\chapter{High Level Tests}

%-----------------------------------------------------%

\begin{minipage}[c]{0.4\textwidth}
\section{Login}

\paragraph{Precondition:}
User is on the login page.
\\
\paragraph{Test Procedure:}
User enters their credentials, and clicks on "login". \\
After that, the user should be on the Dashboard.\\
Click on the profile icon in the upper right corner to navigate to the
profile.\\
Check if the information displayed belongs to the user who is currently logged in.
\\
\paragraph{Expected Result:}
Profile displays the information which belongs to the user account
that was used to login.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_login.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Logout}

\paragraph{Precondition:}
User is logged in e.g. is currently on the dashboard.
\\
\paragraph{Test Procedure:}
User clicks on the icon in the upper right corner and selects "log off". \\
Afterwards the user should see the login screen.\\
Open Browser History and click on an URL within the EMS (e.g. "/alert").\\
This should navigate the user to the login page.\\

\paragraph{Expected Result:}
User is on the login page.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_logout.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Registration}

\paragraph{Precondition:}
Administrator is on the "Create User" page and has entered valid information to create a new user.\\

\paragraph{Test Procedure:}
User who was created checks their Email Account, waits a bit (1 minute) and sees whether a registration Mail arrives.\\
After receiving the mail, the user clicks on the link within.\\
This link should navigate to a page where the user is asked to set a password.\\
After choosing a new password and clicking on "try new password", the user is brought to the login page.\\
After entering the username from the mail and the chosen password, the
login should be successful.\\

\paragraph{Expected Result:}
User logs in with new password.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_registration.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}

\section{Forgot Password}

\paragraph{Precondition:}
User is on the login page.\\

\paragraph{Test Procedure:}
User clicks on "forgot password".\\
User is brought to a page where they are asked to enter their username and Email Address. (Enter the address that is shown in on your Profile, otherwise it won't work; if the address was never changed, use the address to which the registration mail was sent.) \\
Afterwards, the user waits for the password reset mail to come and clicks on the reset link.\\
The link should bring the user to a page where they can set a new password.\\
After choosing a new password and clicking on "try new password", the user is brought to the login page.\\
After entering the username from the mail and the chosen password, the
login should be successful.\\

\paragraph{Expected Result:}
User logs in with new password.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_forgot_password.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Chart: Live}

\paragraph{Precondition:}
User is on th dashboard. No nodes are selected (no charts are visible).
\\
\paragraph{Test Procedure:}
Click on the icon with the three points which is in the top right corner
(beside the profile icon).\\
This should open a menu where the user can select nodes.\\
After selecting a node a chart should show up, with the following properties: live, last 60 min are shown.\\
Check if the x and y axis are labeled correctly and if the chart updates.\\
After the chart updates, the user selects a different KPI and checks if
the chart is still labeled correctly.\\
After the chart successfully displayed the different KPIs, change the value for last minutes displayed. The chart should display a different time period.\\

\paragraph{Expected Result:}
Chart should react to changes and be able to display different KPIs with a
variation of time periods.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_chart_live.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Chart: History}

\paragraph{Precondition:}
A node is already selected. (Test can start where "Chart: Live" has finished).\\

\paragraph{Test Procedure:}
Select History on the active Node, the chart should have now the following
properties: time frame from the whole previous day from 12 am to 12 am.\\
Select a different KPI and check if the chart updates. Afterward change the displayed
time frame to different but valid time frame and check if chart updates.\\

\paragraph{Expected Result:}
Chart should react on changes and be able to display different KPIs with a
variation of time periods.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_chart_history.pdf}
\end{minipage}
%-----------------------------------------------------%
\\ \\ \\ \\

\begin{minipage}[c]{0.4\textwidth}
\section{Change Password}

\paragraph{Precondition:}
User just entered the profile page.\\

\paragraph{Test Procedure:}
Enter valid data for old password (current password), new password and
confirm password (new password).\\
After clicking on save, a popup with "changes saved" appears. Click "ok".\\
Log out and try to login with new password.\\

\paragraph{Expected Result:}
User can log in with new password.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_change_password.pdf}
\end{minipage}
%-----------------------------------------------------%

\begin{minipage}[c]{0.4\textwidth}
\section{Edit Alert Rules}

\paragraph{Precondition:}
User is on alert rule page and an alert already exists.\\

\paragraph{Test Procedure:}
User clicks an edit symbol and is taken to the corresponding rule's page. \\
Here, they change the rule's name and/or method, then click on next. \\
They are taken to the page where they can edit KPIs. \\
Here, they add and/or remove KPIs, change the thresholds and (un)select leq. Then, they click on next. \\
They are taken to the page where they can add nodes. \\
Here, they add and/or remove nodes, then click on update. \\
They are taken back to the alert rules overview page. Data for the edited rule is updated appropiately.


\paragraph{Expected Result:}
User can edit all attributes of their alert rules.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_edit_alert_rules.pdf}
\end{minipage}
%-----------------------------------------------------%

\begin{minipage}[c]{0.4\textwidth}
\section{Alert Notification}

\paragraph{Precondition:}
User created an alert notification with two KPIs which is set so that it
should trigger (trigger set above a certain threshold) and the other shouldn't trigger (threshold set below that trigger).\\
Then, they navigate to the alert notification history.\\

\paragraph{Test Procedure:}
Wait for a notification to show up. Check if the right KPI of the alert rule was triggered.\\

\paragraph{Expected Result:}
Alert rule is displayed correctly.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_alert_notification.pdf}
\end{minipage}
%-----------------------------------------------------%



\begin{minipage}[c]{0.4\textwidth}
\section{Create User}

\paragraph{Precondition:}
Administrator is on the user management page.\\


\paragraph{Test Procedure:}
Click on "+". This should open a new user page with no information.\\
Enter valid information (e.g. username, Email-Address,...).\\
Click on "create". The user management page should now list a new user.\\
Check Email-account if registration Email was sent.\\

\paragraph{Expected Result:}
Registration Email with registration link was received.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_create_user.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Delete User}

\paragraph{Precondition:}
Administrator is on the user management page.\\

\paragraph{Test Procedure:}
A click on a delete icon should trigger a popup where the administrator is asked whether they really want to delete that user (Only users that are in no usergroup can be deleted).\\
Click on "yes". The deleted user should have vanished from the user list.\\
Log out, and try to login with the credentials from the deleted user.\\

\paragraph{Expected Result:}
Credentials from the deleted user are invalid.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_delete_user.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Edit User}

\paragraph{Precondition:}
Administrator is on the user management page.\\

\paragraph{Test Procedure:}
A click on an edit icon should open a user page with information of the selected user.\\
Change the information of the user, e.g. username.\\
Click on "save" to save the changes (If the username was changed, the user overview should display the new name).\\
Go to the Email Account of the user and check if a notification Mail was
received.\\

\paragraph{Expected Result:}
The user was notified that e.g. his username has changed.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_edit_user.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Create Group}

\paragraph{Precondition:}
Administrator is on the group management page.

\paragraph{Test Procedure:}
Click on "+". This opens a new group page with no information.\\
Set the name of the new group, and add a few nodes and users (A group
doesn't need a user or node). \\
Click on create. The new group should be listed in the group overview.\\
Log out, and log in with a user that was added to the new group.\\
On the dashboard, open the overview of nodes and check if the user has access to all nodes in the new group.\\

\paragraph{Expected Result:}
User has access to all nodes that were added to the new group.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_create_usergroup.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Delete Group}

\paragraph{Precondition:}
Administrator is on the group management page.\\

\paragraph{Test Procedure:}
A Click on a delete icon should trigger a popup where the administrator is asked whether they really want to delete that group.\\
Click "yes". The group should have vanished from the overview.\\
Login with an account that was in the deleted group.\\
Navigate to the alert page, and see if nodes belonging to that group are still listed among alert rules.\\

\paragraph{Expected Result:}
Alert Rules are attached to no node.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_delete_usergroup.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Edit Group}

\paragraph{Precondition:}
Administrator is on the group management page.\\

\paragraph{Test Procedure:}
A Click on an edit icon  should open a group page with the information of the selected group.\\
Now change the name, remove and add nodes or users.\\ 
Click on "ok" to save the changes.\\
The changes should be displayed in the group overview on the group management page.\\
Login with user account who is part of this group and open the node
overview on the dashboard.\\

\paragraph{Expected Result:}
User sees only nodes they're allowed to see.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_edit_usergroup.pdf}
\end{minipage}
%-----------------------------------------------------%

\begin{minipage}[c]{0.4\textwidth}
\section{Delete Node}

\paragraph{Precondition:}
Administrator is on node management page.\\

\paragraph{Test Procedure:}
A Click on a delete icon of node triggers a popup where the administrator is asked whether they really want to delete this node.\\
Click "yes", the node should have vanished from the list.\\
Navigate to group management and check if the node was removed from all groups.\\

\paragraph{Expected Result:}
The deleted node is not listed in any of the groups.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_delete_node.pdf}
\end{minipage}
%-----------------------------------------------------%


\begin{minipage}[c]{0.4\textwidth}
\section{Edit Interval}

\paragraph{Precondition:}
Administrator is on node management page.\\

\paragraph{Test Procedure:}
A Click on the send interval of the node should trigger a popup where you can enter the new send interval of the node.\\
Click on "save". The new interval should be displayed.\\
Navigate to the dashboard and check if the new interval is listed next to the node.\\
Check if the chart updates with the new send interval. (1 second difference
from the actual interval should be allowed.)\\

\paragraph{Expected Result:}
Chart updates with the new send interval.

\end{minipage}
\hfill
\begin{minipage}[c]{0.5\textwidth}
	\includegraphics[width=1\linewidth]{s05_hams_edit_sendinterval.pdf}
\end{minipage}
%-----------------------------------------------------%


%----------------------------------------------%
\chapter{Test Cases}
%-----------------------------%
\section{Description}
The test that are at the end of this paper, are written in a way so that they can be tested without understanding of the software, and are fast to execute. \\
Each test has a title and every test case has a number, so that we can later report which test failed (didn't give the expected results), e.g. Login-1.1 would mean a user has access to the MEMS software just by clicking on "login".
\\
Case 1.0 is the description of the following test cases, and is written to be easy and fast to understand. The expected result should be easy to check. On the right, we left space for the testers to note the result if the sheet is printed on paper, e.g. if it failed, passed, or a short description what went wrong, if the result isn't covered by the expected results the test writer anticipated.\\


\includepdf[pages=-]{TestCases.pdf}

\end{document}
